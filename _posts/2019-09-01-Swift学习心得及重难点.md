---
layout:     post
title:      Swift学习心得
subtitle:   未完待续....
date:       2019-09-01
author:     TAO LI
header-img: img/post-bg-re-vs-ng2.jpg
catalog: true
tags:
    - iOS
    - Swift
    - Xcode
---

>2019年9月1日

## 关于Swift语言

  Swift 是一门集现代语言之大成，集结了苹果的工程师文化精髓以及开源社区多样化于一身的编程语言。没错，在看了swift的基本语法后，我认为Swift语言简单易学，更贴近于英文自然语言，因此我会时刻注意在书写函数时，应该尽量以自然的语言去定义外部参数和内部参数。Swift配有完整的文档可以查阅，但也正因为Swift是一门新兴的语言，因此网上也一直有Swift从入门到放弃的吐槽梗（🤭）。
  学习编程的源动力在于平时在使用手机时会遇到一些问题，希望可以通过一些简单的应用来实现，但是商店中却没有提供此类应用，因为会萌生出自己来编写一个用用供自己使用，甚至上架App Store供其他人下载使用。我相信有编程爱好的你在看完Swift官方文档后也能写出简洁又小美的应用。

## 我的第一个会员卡应用

####   萌生的想法

需求一个简洁的，轻量的会员卡应用，适配iPhone及Wallet应用，用户可以添加内置的会员卡至Wallet应用中，也可以自行手动添加会员卡。但苦于商店中并没有符合我要求的应用，故萌生出自行开发一个以便自己使用和推荐给他人使用。

  用户打开应用后首页呈现出若干会员卡模板，例如我当地的大润发超市会员卡，星巴克会员卡，永辉超市会员卡等等。点击这些内置的模板后将会用一个转场进入一个新的界面，新的界面中将需要用户手动修改卡号，持卡人等信息，并配有一个实时预览的图像框，方便用户查看修改后的会员卡，最后还将会显示一个添加到钱包应用的按钮，点击后将添加会员卡至钱包应用中。此外，应用还应包括一个选项卡，可以使得用户能够自行添加当地的各式会员卡。

####   界面创建需要的对象

  首先删除掉默认的view controller，创建一个table view controller , table view中的cell应该是动态的，需要设置reuse identifier。app的设计要遵从最好的设计无需说明书的原则，保持简洁和易懂，因此首页的table view cell中只创建一个UIImage，供显示会员卡用。

 点击UIImage后将会使用show segue转到会员卡详情界面，该界面包含了会员卡的预览图，然后还有text field供用户修改会员卡的卡号、姓名等内容。最重要的是还要显示add to wallet的一个button，点击后会把该会员卡添加到wallet中。

 第二个功能是用户自行添加会员卡的界面。到这里，起码出现了3个用户界面，我这边考虑使用tab bar navigation 来集成首页和手动添加会员卡两个界面，方便在app最下方切换tab。手动添加会员卡界面需要几个text field来填写卡号 姓名，并需要一个image select object来自定义会员卡卡面，还应该需要一个会员卡预览的UIImage object，供用户实时预览填写的会员卡。会员卡预览图上还应该额外显示一个barcode和二维码，这样可以在实体店使用时进行扫描操作。最后显示一个add to wallet按钮添加到wallet中。

 总体来说这是一个简单的应用。但是却可以实现我自己的需求，比如去超市不需要带上实体会员卡（虽然大润发支持直接报手机号来享受会员卡服务，但是wallet显得更有比格不是吗！）。

#### 需要解决的问题

1.自定义cell中UIImage的auto layout设置， 内置会员卡卡面获取和尺寸设置，保持app中美观一致。

2.自行添加会员卡功能的实现，主要是希望有一个扫码添加的功能。需要一定的ORC识别相关知识。

另外手动添加会员卡时需要实现读取用户相册的权限，回传用户相册所选择的会员卡卡面。

3.add to wallet 按钮的实现。主要包括如何跳转到wallet并将会员卡添加到wallet中。

4.如何根据卡号和持卡人姓名等信息生成一个二维码和条形码。商超是否支持我的条形码和二维码。

5.实现基本功能后，是否可以使用更加自定义更加小美的UI和配色重现app，使得app可以在商店中获得用户的好评的大量使用。